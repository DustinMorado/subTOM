

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>subtom_multiref_alignment &mdash; subTOM 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="subtom_multiref_average" href="subtom_multiref_average.html" />
    <link rel="prev" title="Multireference Classification" href="../introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> subTOM
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../conventions.html">Conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Links to Individual Script Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_alignment.html">subtom_alignment.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_average.html">subtom_average.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_cat_motls.html">subtom_cat_motls.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_clean_motl.html">subtom_clean_motl.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_compare_motls.html">subtom_compare_motls.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_even_odd_motl.html">subtom_even_odd_motl.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_extract_noise.html">subtom_extract_noise.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_extract_subtomograms.html">subtom_extract_subtomograms.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_maskcorrected_fsc.html">subtom_maskcorrected_fsc.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_preprocess.html">subtom_preprocess.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_plot_filter.html">subtom_plot_filter.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_plot_scanned_angles.html">subtom_plot_scanned_angles.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_reconstruct.html">subtom_reconstruct.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_scale_motl.html">subtom_scale_motl.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_seed_positions.html">subtom_seed_positions.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_shape.html">subtom_shape.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_split_motl_by_row.html">subtom_split_motl_by_row.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/subtom_transform_motl.html">subtom_transform_motl.sh</a></li>
</ul>
<p class="caption"><span class="caption-text">Links to Individual Function Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_cat_motls.html">subtom_cat_motls.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_clean_motl.html">subtom_clean_motl.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_compare_motls.html">subtom_compare_motls.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_even_odd_motl.html">subtom_even_odd_motl.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_extract_noise.html">subtom_extract_noise.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_extract_subtomograms.html">subtom_extract_subtomograms.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_maskcorrected_fsc.html">subtom_maskcorrected_fsc.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_parallel_sums.html">subtom_parallel_sums.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_plot_filter.html">subtom_plot_filter.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_plot_scanned_angles.html">subtom_plot_scanned_angles.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_scale_motl.html">subtom_scale_motl.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_scan_angles_exact.html">subtom_scan_angles_exact.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_seed_positions.html">subtom_seed_positions.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_shape.html">subtom_shape.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_split_motl_by_row.html">subtom_split_motl_by_row.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_transform_motl.html">subtom_transform_motl.m</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/subtom_weighted_average.html">subtom_weighted_average.m</a></li>
</ul>
<p class="caption"><span class="caption-text">Classification Documentation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Multireference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">subtom_multiref_alignment.sh</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#options">Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#directories">Directories</a></li>
<li class="toctree-l4"><a class="reference internal" href="#variables">Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#memory-options">Memory Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-cluster-options">Other Cluster Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#subtomogram-alignment-workflow-options">Subtomogram Alignment Workflow Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parallelization-options">Parallelization Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#file-options">File Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alignment-and-averaging-options">Alignment and Averaging Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="subtom_multiref_average.html">subtom_multiref_average.sh</a></li>
<li class="toctree-l2"><a class="reference internal" href="subtom_multiref_initialize.html">subtom_multiref_initialize.sh</a></li>
<li class="toctree-l2"><a class="reference internal" href="subtom_multiref_rand_class_motl.html">subtom_multiref_rand_class_motl.sh</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functions/subtom_compare_motls.html">subtom_compare_motls.m</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functions/subtom_parallel_sums.html">subtom_parallel_sums.m</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functions/subtom_rand_class_motl.html">subtom_rand_class_motl.m</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functions/subtom_scan_angles_exact.html">subtom_scan_angles_exact.m</a></li>
<li class="toctree-l2"><a class="reference internal" href="../functions/subtom_weighted_average.html">subtom_weighted_average.m</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../pca/index.html">PCA</a></li>
</ul>
<p class="caption"><span class="caption-text">Analysis Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../analysis/b_factor_by_subsets/index.html">B-Factor from Subsets</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">subTOM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">subTOM: Multireference</a> &raquo;</li>
        
      <li>subtom_multiref_alignment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/classification/multireference/scripts/subtom_multiref_alignment.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="subtom-multiref-alignment">
<h1>subtom_multiref_alignment<a class="headerlink" href="#subtom-multiref-alignment" title="Permalink to this headline">¶</a></h1>
<p>The main multireference pipeline process script of subTOM. Iteratively aligns
and averages a collection of subvolumes, against multiple references.</p>
<p>This subtomogram alignment script uses five MATLAB compiled scripts below:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../functions/subtom_scan_angles_exact.html"><span class="doc">subtom_scan_angles_exact</span></a></p></li>
<li><p><a class="reference internal" href="../../../functions/subtom_cat_motls.html"><span class="doc">subtom_cat_motls</span></a></p></li>
<li><p><a class="reference internal" href="../functions/subtom_parallel_sums.html"><span class="doc">subtom_parallel_sums</span></a></p></li>
<li><p><a class="reference internal" href="../functions/subtom_weighted_average.html"><span class="doc">subtom_weighted_average</span></a></p></li>
<li><p><a class="reference internal" href="../functions/subtom_compare_motls.html"><span class="doc">subtom_compare_motls</span></a></p></li>
</ul>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="directories">
<h3>Directories<a class="headerlink" href="#directories" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>scratch_dir</dt><dd><p>Absolute path to the folder with the input to be processed.
Other paths are relative to this one.</p>
</dd>
<dt>local_dir</dt><dd><p>Absolute path to the folder on a group share, if the scratch directory is
cleaned and deleted regularly this can set a local directory to which the
important results will be copied. If this is not needed it can be skipped with
the option skip_local_copy below.</p>
</dd>
<dt>mcr_cache_dir</dt><dd><p>Absolute path to MCR directory for the processing.</p>
</dd>
<dt>exec_dir</dt><dd><p>Directory for executables</p>
</dd>
</dl>
</div>
<div class="section" id="variables">
<h3>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>align_exec</dt><dd><p>Alignment executable</p>
</dd>
<dt>cat_exec</dt><dd><p>Concatenate MOTLs executable</p>
</dd>
<dt>sum_exec</dt><dd><p>Parallel Summing executable</p>
</dd>
<dt>avg_exec</dt><dd><p>Weighted Averaging executable</p>
</dd>
<dt>compare_exec</dt><dd><p>Compare MOTLs executable</p>
</dd>
<dt>motl_dump_exec</dt><dd><p>MOTL dump executable</p>
</dd>
</dl>
</div>
<div class="section" id="memory-options">
<h3>Memory Options<a class="headerlink" href="#memory-options" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>mem_free_ali</dt><dd><p>The amount of memory the job requires for alignment. This variable determines
whether a number of CPUs will be requested to be dedicated for each job. At
24G, one half of the CPUs on a node will be dedicated for each of the
processes (12 CPUs). At 48G, all of the CPUs on the node will be dedicated for
each of the processes (24 CPUs).</p>
</dd>
<dt>mem_max_ali</dt><dd><p>The upper bound on the amount of memory the alignment job is allowed to use.
If any of the processes request or require more memory than this, the queue
will kill the process. This is more of an option for safety of the cluster to
prevent the user from crashing the cluster requesting too much memory.</p>
</dd>
<dt>mem_free_avg</dt><dd><p>The amount of memory the job requires for averaging.</p>
</dd>
<dt>mem_max_avg</dt><dd><p>The upper bound on the amount of memory the averaging job is allowed to use.</p>
</dd>
</dl>
</div>
<div class="section" id="other-cluster-options">
<h3>Other Cluster Options<a class="headerlink" href="#other-cluster-options" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>job_name</dt><dd><p>The job name prefix that will be used for the cluster submission scripts, log
files, and error logs for the processing. Be careful that this name is unique
because previous submission scripts, logs, and error logs with the same job
name prefix will be overwritten in the case of a name collision.</p>
</dd>
<dt>array_max</dt><dd><p>The maximum number of jobs per cluster submission script. Cluster submission
scripts work using the array feature common to queuing systems, and this value
is the maximum array size used in a script. If the user requests more batches
of processing than this value, then the submission scripts will be split into
files of up to array_max jobs.</p>
</dd>
<dt>max_jobs</dt><dd><p>The maximum number of jobs for alignment. If the number of batches / exceeds
this value the script will immediately quit.</p>
</dd>
<dt>run_local</dt><dd><p>If the user wants to skip the cluster and run the job locally, this value
should be set to 1.</p>
</dd>
<dt>skip_local_copy</dt><dd><p>Set this option to 1 to skip the copying of data to local_dir.</p>
</dd>
</dl>
</div>
<div class="section" id="subtomogram-alignment-workflow-options">
<h3>Subtomogram Alignment Workflow Options<a class="headerlink" href="#subtomogram-alignment-workflow-options" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="parallelization-options">
<h3>Parallelization Options<a class="headerlink" href="#parallelization-options" title="Permalink to this headline">¶</a></h3>
<dl>
<dt>start_iteration</dt><dd><p>The index of the reference to start from : input will be
ref_fn_prefix_start_iteration.em and all_motl_fn_prefix_start_iteration.em
(define as integer e.g.  start_iteration=3)</p>
<p>More on iterations since they’re confusing and it is slightly different here
than from previous iterations.</p>
<p>The start_iteration is the beginning for the iteration variable used
throughout this script. Iteration refers to iteration that is used for
subtomogram alignment. So if start_iteration is 1, then subtomogram alignment
will work using allmotl_1.em and ref_1.em. The output from alignment will be
particle motls for the next iteration. This in the script is avg_iteration
variable. The particle motls will be joined to form allmotl_2.em and then the
parallel averaging will form ref_2.em and then the loop is done and iteration
will become 2 and avg_iteration will become 3.</p>
</dd>
<dt>iterations</dt><dd><p>Number iterations (big loop) to run: final output will be
ref_fn_prefix_start_iteration+iterations.em and
all_motl_fn_prefix_start_iteration+iterations.em</p>
</dd>
<dt>num_ali_batch</dt><dd><p>The number of batches to split the parallel subtomogram alignment job into.</p>
</dd>
<dt>num_avg_batch</dt><dd><p>The number of batches to split the parallel subtomogram averaging job into.</p>
</dd>
</dl>
</div>
<div class="section" id="file-options">
<h3>File Options<a class="headerlink" href="#file-options" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>all_motl_fn_prefix</dt><dd><p>Relative path and name of the concatenated motivelist of all particles (e.g.
allmotl_iter.em , the variable will be written as a string e.g.
all_motl_fn_prefix=’sub-directory/allmotl’)</p>
</dd>
<dt>ref_fn_prefix</dt><dd><p>Relative path and name of the reference volumes (e.g. ref_iter.em , the
variable will be written as a string e.g. ref_fn_prefix=’sub-directory/ref’)</p>
</dd>
<dt>ptcl_fn_prefix</dt><dd><p>Relative path and name of the subtomograms (e.g. part_n.em , the variable will
be written as a string e.g. ptcl_fn_prefix=’sub-directory/part’)</p>
</dd>
<dt>align_mask_fn</dt><dd><p>Relative path and name of the alignment mask
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>cc_mask_fn</dt><dd><p>Relative path and name of the cross-correlation mask this defines the maximum
shifts in each direction
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>weight_fn_prefix</dt><dd><p>Relative path and name of the weight file.</p>
</dd>
<dt>weight_sum_fn_prefix</dt><dd><p>Relative path and name of the partial weight files.</p>
</dd>
</dl>
</div>
<div class="section" id="alignment-and-averaging-options">
<h3>Alignment and Averaging Options<a class="headerlink" href="#alignment-and-averaging-options" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>tomo_row</dt><dd><p>Which row in the motl file contains the correct tomogram number.
Usually row 5 and 7 both correspond to the correct value and can be used
interchangeably, but there are instances when 5 contains a sequential ordered
value starting from 1, while 7 contains the correct corresponding tomogram.</p>
</dd>
<dt>apply_weight</dt><dd><p>Apply weight to subtomograms (1=yes, 0=no).</p>
</dd>
<dt>apply_mask</dt><dd><p>Apply mask to subtomograms (1=yes, 0=no).</p>
</dd>
<dt>keep_class</dt><dd><p>If you want particles to be constrained to their existing class set this to 1,
otherwise particles will change to the class of which they align best against.</p>
</dd>
<dt>psi_angle_step</dt><dd><p>Angular increment in degrees, applied during the cone-search, i.e. psi and
theta (define as real e.g. psi_angle_step=3).
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>psi_angle_shells</dt><dd><p>Number of angular iterations, applied to psi and theta  (define as integer
e.g. psi_angle_shells=4). Note that in terms of cones this is twice the number
of cones sampled.
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>phi_angle_step</dt><dd><p>Angular increment for phi in degrees, (define as real e.g. phi_angle_step=3).
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>phi_angle_shells</dt><dd><p>Number of angular iterations for phi, (define as integer e.g.
phi_angle_shells=6).
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>high_pass_fp</dt><dd><p>High pass filter cutoff (in transform units (pixels): calculate as (box_size *
pixelsize) / (resolution_real) (define as integer).
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>high_pass_sigma</dt><dd><p>High pass filter falloff sigma (in transform units (pixels): describes a
Gaussian sigma for the falloff of the high-pass filter past the cutoff above.
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>low_pass_fp</dt><dd><p>Low pass filter (in transform units (pixels): calculate as (box_size *
pixelsize) / (resolution_real) (define as integer).
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>low_pass_sigma</dt><dd><p>Low pass filter falloff sigma (in transform units (pixels): describes a
Gaussian sigma for the falloff of the low-pass filter past the cutoff above.
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>nfold</dt><dd><p>Symmetry, if no symmetry nfold=1 (define as integer e.g. nfold=3).
Leave the parentheses and if the number of values is less than the number of
iterations the last value will be repeated to the correct length.</p>
</dd>
<dt>threshold</dt><dd><p>Threshold for cross correlation coefficient. Only particles with ccc_new &gt;
threshold will be added to new average (define as real e.g. threshold=0.5).
These particles will still be aligned at each iteration.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">scratch_dir</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="nv">local_dir</span><span class="o">=</span><span class="s2">&quot;&quot;</span>

<span class="nv">mcr_cache_dir</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">scratch_dir</span><span class="si">}</span><span class="s2">/mcr&quot;</span>

<span class="nv">exec_dir</span><span class="o">=</span><span class="s2">&quot;/net/dstore2/teraraid/dmorado/software/subTOM/bin&quot;</span>

<span class="nv">align_exec</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">exec_dir</span><span class="si">}</span><span class="s2">/classification/multiref/subtom_scan_angles_exact&quot;</span>

<span class="nv">cat_exec</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">exec_dir</span><span class="si">}</span><span class="s2">/MOTL/subtom_cat_motls&quot;</span>

<span class="nv">sum_exec</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">exec_dir</span><span class="si">}</span><span class="s2">/classification/multiref/subtom_parallel_sums&quot;</span>

<span class="nv">avg_exec</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">exec_dir</span><span class="si">}</span><span class="s2">/classification/multiref/subtom_weighted_average&quot;</span>

<span class="nv">compare_exec</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">exec_dir</span><span class="si">}</span><span class="s2">/classification/multiref/subtom_compare_motls&quot;</span>

<span class="nv">motl_dump_exec</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">exec_dir</span><span class="si">}</span><span class="s2">/MOTL/motl_dump&quot;</span>

<span class="nv">mem_free_ali</span><span class="o">=</span>1G

<span class="nv">mem_max_ali</span><span class="o">=</span>64G

<span class="nv">mem_free_avg</span><span class="o">=</span>1G

<span class="nv">mem_max_avg</span><span class="o">=</span>64G

<span class="nv">job_name</span><span class="o">=</span>subTOM

<span class="nv">array_max</span><span class="o">=</span><span class="m">1000</span>

<span class="nv">max_jobs</span><span class="o">=</span><span class="m">4000</span>

<span class="nv">run_local</span><span class="o">=</span><span class="m">0</span>

<span class="nv">skip_local_copy</span><span class="o">=</span><span class="m">1</span>

<span class="nv">start_iteration</span><span class="o">=</span><span class="m">1</span>

<span class="nv">iterations</span><span class="o">=</span><span class="m">3</span>

<span class="nv">num_ali_batch</span><span class="o">=</span><span class="m">1</span>

<span class="nv">num_avg_batch</span><span class="o">=</span><span class="m">1</span>

<span class="nv">all_motl_fn_prefix</span><span class="o">=</span><span class="s2">&quot;combinedmotl/allmotl&quot;</span>

<span class="nv">ref_fn_prefix</span><span class="o">=</span><span class="s2">&quot;ref/ref&quot;</span>

<span class="nv">ptcl_fn_prefix</span><span class="o">=</span><span class="s2">&quot;subtomograms/subtomo&quot;</span>

<span class="nv">align_mask_fn</span><span class="o">=(</span><span class="s2">&quot;otherinputs/align_mask_1.em&quot;</span> <span class="se">\</span>
               <span class="s2">&quot;otherinputs/align_mask_2.em&quot;</span> <span class="se">\</span>
               <span class="s2">&quot;otherinputs/align_mask_3.em&quot;</span><span class="o">)</span>

<span class="nv">cc_mask_fn</span><span class="o">=(</span><span class="s2">&quot;otherinputs/cc_mask_r10.em&quot;</span> <span class="se">\</span>
            <span class="s2">&quot;otherinputs/cc_mask_r05.em&quot;</span><span class="o">)</span>

<span class="nv">weight_fn_prefix</span><span class="o">=</span><span class="s2">&quot;otherinputs/ampspec&quot;</span>

<span class="nv">weight_sum_fn_prefix</span><span class="o">=</span><span class="s2">&quot;otherinputs/wei&quot;</span>

<span class="nv">tomo_row</span><span class="o">=</span><span class="m">7</span>

<span class="nv">apply_weight</span><span class="o">=</span><span class="m">0</span>

<span class="nv">apply_mask</span><span class="o">=</span><span class="m">1</span>

<span class="nv">keep_class</span><span class="o">=</span><span class="m">0</span>

<span class="nv">psi_angle_step</span><span class="o">=(</span><span class="m">10</span> <span class="m">5</span> <span class="m">2</span>.5<span class="o">)</span>

<span class="nv">psi_angle_shells</span><span class="o">=(</span><span class="m">4</span><span class="o">)</span>

<span class="nv">phi_angle_step</span><span class="o">=(</span><span class="m">20</span> <span class="m">5</span><span class="o">)</span>

<span class="nv">phi_angle_shells</span><span class="o">=(</span><span class="m">6</span><span class="o">)</span>

<span class="nv">high_pass_fp</span><span class="o">=(</span><span class="m">1</span><span class="o">)</span>

<span class="nv">high_pass_sigma</span><span class="o">=(</span><span class="m">2</span><span class="o">)</span>

<span class="nv">low_pass_fp</span><span class="o">=(</span><span class="m">12</span> <span class="m">15</span> <span class="m">18</span><span class="o">)</span>

<span class="nv">low_pass_sigma</span><span class="o">=(</span><span class="m">3</span><span class="o">)</span>

<span class="nv">nfold</span><span class="o">=(</span><span class="m">1</span> <span class="m">6</span><span class="o">)</span>

<span class="nv">threshold</span><span class="o">=</span>-1
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="subtom_multiref_average.html" class="btn btn-neutral float-right" title="subtom_multiref_average" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../introduction.html" class="btn btn-neutral float-left" title="Multireference Classification" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Dustin Reed Morado

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>